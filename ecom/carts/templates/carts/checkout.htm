{% extends "base.htm" %} {% block content %} {% block title_head %}
<title> Checkout page</title>
{% endblock title_head %} {{ object.order_id }} -- {{ object.cart }}

<div class="container">

    {% if not object.shipping_address %}

    <div class='row'>
        <div class='col-md-6 mx-auto col-10'>
            <p class='lead'>Shipping Address</p>
            <hr/> {% url "checkout_address_create" as checkout_address_create %}
            <br>{% include 'addresses/form.htm' with form=address_form next_url=request.build_absolute_uri action_url=checkout_address_create address_type='shipping' %}
        </div>
    </div>


    {% elif not object.billing_address %}
    <div class='row'>
        <div class='col-md-6 mx-auto col-10'>
            <p class='lead'>Billing Address</p>
            <hr/> {% url "checkout_address_create" as checkout_address_create %}
            <br>{% include 'addresses/form.htm' with form=address_form next_url=request.build_absolute_uri action_url=checkout_address_create address_type='billing' %}
        </div>
    </div>
    {% else %}

    <h1>Finalize Checkout</h1>

    <p>Cart Total: {{ object.cart.total }}</p>
    <p>Shipping Total: {{ object.shipping_total }}</p>
    <p>Order Total: {{ object.total }}</p>
    <button>Checkout</button> {% endif %}

    <!-- <h1>Checkout</h1>

    <p>Cart Total: {{ object.cart.total }}</p>
    <p>Shipping Total: {{ object.shipping_total }}</p>
    <p>Order Total: {{ object.total }}</p> -->

</div>

{% endblock %}